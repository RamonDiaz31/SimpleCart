document.addEventListener("DOMContentLoaded",(()=>{if(document.querySelector('[data-control="cart"]')){const t=document.querySelector('[data-control="cart"]');document.querySelector('input[name="'+t.dataset.update_field+'"]').setAttribute("value",t.dataset.update_value);const e=t.querySelector(".js-btn-cart-item-add");e.addEventListener("click",(()=>{e.setAttribute("disabled",""),$(e).request("onCartItemAdd",{success:function(t){t.extra_data&&(document.querySelector('input[name="'+t.extra_data.update_field+'"]').setAttribute("value",t.extra_data.update_value),delete t.extra_data,this.success(t))},complete:()=>{e.removeAttribute("disabled")}})}))}$("#modal-search-product").on("click",".js-btn-product-search-add",(function(){this.setAttribute("disabled",""),$(this).request("onCartItemAdd2",{data:{search_add:this.dataset.product_id},success:function(t){t.extra_data&&(document.querySelector('input[name="'+t.extra_data.update_field+'"]').setAttribute("value",t.extra_data.update_value),delete t.extra_data,this.success(t))},complete:()=>{this.removeAttribute("disabled")}})})),$("#table-cart").on("click",".js-btn-cart-item-edit",(function(){const t=document.querySelector(this.getAttribute("href"));t.querySelector("h4").innerHTML=this.dataset.product_name,t.querySelector('input[name="cart_update_id"]').value=this.dataset.product_id,t.querySelector('input[name="cart_update_quantity"]').value=this.dataset.product_quantity})),$("#table-cart").on("click",".js-btn-cart-item-delete",(function(){const t=document.querySelector(this.getAttribute("href"));t.querySelector("h4").innerHTML=this.dataset.product_name,t.querySelector('input[name="cart_delete_id"]').value=this.dataset.product_id})),$("#cart-item-edit").on("click",".js-btn-cart-update",(function(){this.setAttribute("disabled",""),$(this).request("onCartItemEdit",{success:function(t){t.extra_data&&(document.querySelector('input[name="'+t.extra_data.update_field+'"]').setAttribute("value",t.extra_data.update_value),delete t.extra_data,this.success(t))},complete:()=>{this.removeAttribute("disabled")}})})),$("#cart-item-delete").on("click",".js-btn-cart-delete",(function(){this.setAttribute("disabled",""),$(this).request("onRemoveCartItem",{success:function(t){t.extra_data&&(document.querySelector('input[name="'+t.extra_data.update_field+'"]').setAttribute("value",t.extra_data.update_value),delete t.extra_data,this.success(t))},complete:()=>{this.removeAttribute("disabled")}})}))}));